<div class="form">
  <form class="login-form" name="form" (ngSubmit)="f.form.valid && login()" #f="ngForm" novalidate>
    <div class="form-group" [ngClass]="{ 'has-error': !loading && f.submitted && !username.valid }">
      <input type="text" class="form-control" name="username" id="username-field" [disabled]="loading"
             [(ngModel)]="model.username" #username="ngModel" placeholder="username" required/>
      <p *ngIf="!loading && f.submitted && !model.username" class="message">Username is required.</p>
      <p *ngIf="!loading && model.username && !username.valid" class="message">Username contains illegal characters.</p>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': !loading && f.submitted && !password.valid }">
      <input type="password" class="form-control" name="password" id="password-field" [disabled]="loading"
             [(ngModel)]="model.password" #password="ngModel" placeholder="password" validateNospace/>
      <p *ngIf="!loading && model.password && !password.valid" class="message">Password contains illegal characters.</p>
    </div>
    <div class="form-group">
      <button [disabled]="loading" class="btn btn-primary" id="login-button">Login</button>
      <img *ngIf="loading" src="/assets/spinner32.svg"/>
    </div>
  </form>
</div>
